#!/bin/bash

# å®Œæ•´éƒ¨ç½²è„šæœ¬ - Cloudflare Pages + Workers

echo "ğŸš€ å·¥å…·åˆé›†ç½‘ç«™å®Œæ•´éƒ¨ç½²æŒ‡å—"
echo "================================"

echo ""
echo "ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥æ¸…å•ï¼š"
echo "âœ… Node.js ç‰ˆæœ¬ >= 20.0.0 (å½“å‰: $(node --version))"
echo "âœ… Wrangler CLI å·²å®‰è£…"
echo "âœ… GitHub ä»“åº“å·²åˆ›å»º"
echo "âœ… Cloudflare è´¦å·å·²æ³¨å†Œ"

echo ""
echo "ğŸŒ ç¬¬ä¸€æ­¥ï¼šéƒ¨ç½²åç«¯ (Cloudflare Workers)"
echo "---------------------------------------"
echo "1. ç™»å½• Cloudflareï¼š"
echo "   wrangler login"
echo ""
echo "2. æ‰§è¡Œ Workers éƒ¨ç½²è„šæœ¬ï¼š"
echo "   ./deploy/workers.sh"
echo ""
echo "3. è®°å½•ç”Ÿæˆçš„ Worker URLï¼Œæ ¼å¼å¦‚ä¸‹ï¼š"
echo "   https://toolkit-api.your-subdomain.workers.dev"

echo ""
echo "ğŸ“„ ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²å‰ç«¯ (Cloudflare Pages)"
echo "-------------------------------------"
echo "1. æ¨é€ä»£ç åˆ° GitHubï¼š"
echo "   git remote add origin https://github.com/yourusername/your-repo.git"
echo "   git push origin main"
echo ""
echo "2. è®¿é—® Cloudflare Pagesï¼š"
echo "   https://pages.cloudflare.com/"
echo ""
echo "3. è¿æ¥ GitHub ä»“åº“å¹¶é…ç½®ï¼š"
echo "   - æ¡†æ¶é¢„è®¾ï¼šVue"
echo "   - æ„å»ºå‘½ä»¤ï¼šnpm run build"
echo "   - è¾“å‡ºç›®å½•ï¼šdist"
echo "   - Node.js ç‰ˆæœ¬ï¼š22.x"

echo ""
echo "âš™ï¸ ç¬¬ä¸‰æ­¥ï¼šé…ç½®ç¯å¢ƒå˜é‡"
echo "------------------------"
echo "1. åœ¨ Cloudflare Pages è®¾ç½®ä¸­æ·»åŠ ç¯å¢ƒå˜é‡ï¼š"
echo "   VITE_API_URL=https://toolkit-api.your-subdomain.workers.dev"
echo ""
echo "2. é‡æ–°éƒ¨ç½²å‰ç«¯ä»¥åº”ç”¨ç¯å¢ƒå˜é‡"

echo ""
echo "âœ… ç¬¬å››æ­¥ï¼šéªŒè¯éƒ¨ç½²"
echo "-------------------"
echo "1. è®¿é—®å‰ç«¯ URL ç¡®è®¤ç½‘ç«™æ­£å¸¸"
echo "2. æµ‹è¯•å·¥å…·åŠŸèƒ½ï¼ˆå¦‚æ–‡æœ¬å»é‡ï¼‰"
echo "3. æ£€æŸ¥ API è¿æ¥çŠ¶æ€"
echo "4. éªŒè¯å“åº”å¼è®¾è®¡"

echo ""
echo "ğŸ‰ éƒ¨ç½²å®Œæˆï¼"
echo "==============="
echo "ä½ çš„å·¥å…·ç½‘ç«™ç°åœ¨å¯ä»¥åœ¨ä»¥ä¸‹åœ°å€è®¿é—®ï¼š"
echo "- å‰ç«¯: https://your-project.pages.dev"
echo "- API: https://toolkit-api.your-subdomain.workers.dev"
echo ""
echo "ğŸ“± æ”¯æŒåŠŸèƒ½ï¼š"
echo "- ğŸ¨ ç°ä»£åŒ– UI è®¾è®¡"
echo "- ğŸ“± å“åº”å¼å¸ƒå±€"
echo "- ğŸ”§ å®ç”¨å·¥å…·åŠŸèƒ½"
echo "- ğŸ“Š ä½¿ç”¨ç»Ÿè®¡"
echo "- ğŸŒ å…¨çƒ CDN åŠ é€Ÿ"

# æ£€æŸ¥éƒ¨ç½²çŠ¶æ€
echo ""
echo "ğŸ” å¿«é€Ÿæ£€æŸ¥è„šæœ¬ï¼š"
echo "# æ£€æŸ¥ API çŠ¶æ€"
echo "curl https://your-api-url.workers.dev/api/health"
echo ""
echo "# æ£€æŸ¥å‰ç«¯æ„å»º"
echo "npm run build"
echo ""
echo "# æµ‹è¯•æœ¬åœ°ç¯å¢ƒ"
echo "npm run dev"